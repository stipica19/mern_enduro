{"version":3,"file":"static/js/772.cc4dd10e.chunk.js","mappings":"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","sources":["components/Modal.js","components/customHooks/useInfiniteScroll.js","components/customHooks/useFetch.js","components/Loader.js","pages/Gallery.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["const Modal = ({\r\n  clickedImg,\r\n  setClickedImg,\r\n  handelRotationRight,\r\n  handelRotationLeft,\r\n}) => {\r\n  const handleClick = (e) => {\r\n    if (e.target.classList.contains(\"dismiss\")) {\r\n      setClickedImg(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"overlay dismiss\" onClick={handleClick}>\r\n        <img\r\n          src={`api/${clickedImg}`}\r\n          alt=\"bigger pic\"\r\n        />\r\n        <span className=\"dismiss\" onClick={handleClick}>\r\n          X\r\n        </span>\r\n        <div onClick={handelRotationLeft} className=\"overlay-arrows_left\">\r\n          <div>\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              className=\"h-5 w-5\"\r\n              viewBox=\"0 0 20 20\"\r\n              fill=\"currentColor\"\r\n            >\r\n              <path\r\n                fillRule=\"evenodd\"\r\n                d=\"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z\"\r\n                clipRule=\"evenodd\"\r\n              />\r\n            </svg>\r\n          </div>\r\n        </div>\r\n        <div onClick={handelRotationRight} className=\"overlay-arrows_right\">\r\n          <div>\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              className=\"h-5 w-5\"\r\n              viewBox=\"0 0 20 20\"\r\n              fill=\"currentColor\"\r\n            >\r\n              <path\r\n                fillRule=\"evenodd\"\r\n                d=\"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z\"\r\n                clipRule=\"evenodd\"\r\n              />\r\n            </svg>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import { useState, useRef, useCallback, useEffect } from \"react\";\r\n\r\nfunction useInfiniteScroll() {\r\n  const [skip, setSkip] = useState(1);\r\n  const loadMoreRef = useRef(null);\r\n\r\n  const handleObserver = useCallback((entries) => {\r\n    const [target] = entries;\r\n    if (target.isIntersecting) {\r\n      //console.log(\"skip=============\", skip);\r\n      setSkip((prev) => prev + 5);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const option = {\r\n      root: null,\r\n      rootMargin: \"0px\",\r\n      threshold: 1.0,\r\n    };\r\n\r\n    const observer = new IntersectionObserver(handleObserver, option);\r\n\r\n    if (loadMoreRef.current) observer.observe(loadMoreRef.current);\r\n  }, [handleObserver]);\r\n\r\n  return { loadMoreRef, skip };\r\n}\r\n\r\nexport default useInfiniteScroll;\r\n","import { useState, useEffect, useCallback } from \"react\";\r\n\r\nfunction useFetch(skip) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [photos, setPhotos] = useState([]);\r\n  const [isEnd, setIsEnd] = useState(false);\r\n\r\n  const getPhotos = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch(\r\n        `api/index/getPhoto/?skip=${skip}`\r\n      );\r\n      const data = await response.json();\r\n\r\n      if (data?.length === 0) {\r\n        setIsEnd(true);\r\n        return;\r\n      }\r\n\r\n      setPhotos((prev) => [...prev, ...data.reverse()]);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  }, [skip]);\r\n\r\n  useEffect(() => {\r\n    getPhotos();\r\n  }, [getPhotos]);\r\n\r\n  return { loading, photos, isEnd };\r\n}\r\n\r\nexport default useFetch;\r\n","import \"../App.css\";\r\nimport logo from \"../images/logo.png\";\r\n\r\nfunction Loader() {\r\n  return (\r\n    <div className=\"loader-container\">\r\n      <img className=\"logo\" src={logo} alt=\"Logo\" />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","import React, { useState } from 'react';\r\nimport Modal from '../components/Modal';\r\nimport axios from 'axios';\r\n\r\nimport useInfiniteScroll from '../components/customHooks/useInfiniteScroll';\r\nimport useFetch from '../components/customHooks/useFetch';\r\nimport Loader from '../components/Loader';\r\nimport { useSelector } from 'react-redux';\r\nconst AboutUS = () => {\r\n  const { loadMoreRef, skip } = useInfiniteScroll();\r\n  const { loading, photos, isEnd } = useFetch(skip);\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n\r\n  const handleDelete = (photoId) => {\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n    const deletePhoto = axios.delete(\r\n      `/api/index/deletePhoto/${photoId}`,\r\n      config\r\n    );\r\n    window.location.reload(false);\r\n  };\r\n\r\n  const displayPhoto = photos.map((photo, index) => {\r\n    return (\r\n      <>\r\n        <div key={photo._id} className=\"delete-x\">\r\n          {userInfo && userInfo.isAdmin && (\r\n            <button\r\n              className=\"delete-btn\"\r\n              onClick={() => handleDelete(photo._id)}\r\n            >\r\n              X\r\n            </button>\r\n          )}\r\n          <img\r\n            src={`/api/${photo.image}`}\r\n            alt={photo.image}\r\n            onClick={() => handleClick(photo, index)}\r\n          />\r\n        </div>\r\n      </>\r\n    );\r\n  });\r\n\r\n  const [clickedImg, setClickedImg] = useState(null);\r\n  const [currentIndex, setCurrentIndex] = useState(null);\r\n\r\n  const handleClick = (item, index) => {\r\n    setCurrentIndex(index);\r\n    //console.log(item.image);\r\n    setClickedImg(item.image);\r\n  };\r\n\r\n  const handelRotationRight = () => {\r\n    const totalLength = photos.length;\r\n    if (currentIndex + 1 >= totalLength) {\r\n      setCurrentIndex(0);\r\n      const newUrl = photos[0].image;\r\n      //console.log(newUrl);\r\n      setClickedImg(newUrl);\r\n      return;\r\n    }\r\n    const newIndex = currentIndex + 1;\r\n    const newUrl = photos.filter((item) => {\r\n      return photos.indexOf(item) === newIndex;\r\n    });\r\n    const newItem = newUrl[0].image;\r\n    setClickedImg(newItem);\r\n    setCurrentIndex(newIndex);\r\n  };\r\n\r\n  const handelRotationLeft = () => {\r\n    const totalLength = photos.length;\r\n    if (currentIndex === 0) {\r\n      setCurrentIndex(totalLength - 1);\r\n      const newUrl = photos[totalLength - 1].image;\r\n      setClickedImg(newUrl);\r\n      return;\r\n    }\r\n    const newIndex = currentIndex - 1;\r\n    const newUrl = photos.filter((item) => {\r\n      return photos.indexOf(item) === newIndex;\r\n    });\r\n    const newItem = newUrl[0].image;\r\n    setClickedImg(newItem);\r\n    setCurrentIndex(newIndex);\r\n  };\r\n\r\n  return (\r\n    <section className=\"docs-main gallery\">\r\n      <div className=\"grid-1 container\">\r\n        <div className=\"card flex\">\r\n          <h1>GALLERY</h1>\r\n        </div>\r\n        <div className=\"card flex\">\r\n          <div className=\"grid-inner\">\r\n            <div className=\"ga\">\r\n              <div className=\"grid-container\">{displayPhoto}</div>\r\n              <div ref={loadMoreRef}>\r\n                {!loading && !isEnd && <Loader />}\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              {clickedImg && (\r\n                <Modal\r\n                  clickedImg={clickedImg}\r\n                  handelRotationRight={handelRotationRight}\r\n                  setClickedImg={setClickedImg}\r\n                  handelRotationLeft={handelRotationLeft}\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AboutUS;\r\n","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["clickedImg","setClickedImg","handelRotationRight","handelRotationLeft","handleClick","e","target","classList","contains","className","onClick","src","alt","xmlns","viewBox","fill","fillRule","d","clipRule","useState","skip","setSkip","loadMoreRef","useRef","handleObserver","useCallback","entries","isIntersecting","prev","useEffect","observer","IntersectionObserver","root","rootMargin","threshold","current","observe","loading","setLoading","photos","setPhotos","isEnd","setIsEnd","getPhotos","fetch","response","json","data","length","reverse","console","error","logo","useInfiniteScroll","useFetch","userInfo","useSelector","state","userLogin","displayPhoto","map","photo","index","isAdmin","photoId","config","headers","Authorization","token","axios","window","location","reload","handleDelete","_id","image","currentIndex","setCurrentIndex","item","ref","totalLength","newUrl","newIndex","newItem","filter","indexOf","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iterableToArray","unsupportedIterableToArray","TypeError"],"sourceRoot":""}